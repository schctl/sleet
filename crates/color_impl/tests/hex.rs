use sleet_color_impl::hex;

#[test]
fn from_hex() {
    assert_eq!(hex!(#f79489), [247.0 / 255.0, 148.0 / 255.0, 137.0 / 255.0]);

    const C: [f32; 4] = hex!("#7ec8e390");
    assert_eq!(
        C,
        [126.0 / 255.0, 200.0 / 255.0, 227.0 / 255.0, 144.0 / 255.0]
    );

    static E: [f32; 3] = hex!(fD49a0);
    assert_eq!(E, [253.0 / 255.0, 73.0 / 255.0, 160.0 / 255.0]);
}

#[test]
fn from_hex_bad_format() {
    assert_eq!(
        hex!("f7948 9"),
        [247.0 / 255.0, 148.0 / 255.0, 137.0 / 255.0]
    );

    assert_eq!(
        hex!("7e c8e390"),
        [126.0 / 255.0, 200.0 / 255.0, 227.0 / 255.0, 144.0 / 255.0]
    );

    assert_eq!(
        hex!(7 e c8 e3  " 9 "0),
        [126.0 / 255.0, 200.0 / 255.0, 227.0 / 255.0, 144.0 / 255.0]
    );

    assert_eq!(hex!(fd4 9a0), [253.0 / 255.0, 73.0 / 255.0, 160.0 / 255.0]);
}
